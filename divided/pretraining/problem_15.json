{
    "problem": "First put $E_1 = \\{0, 1\\}$ and suppose that a finite sequence $E_n \\subset [0, 1]$ is given. \nDefine $E_{n+1}$ by inserting new fractions $(a+c)/(b+d)$ between every two \nconsecutive fractions $a/b$ and $c/d$ in $E_n$. Of course we understand $0 = 0/1$ \nand $1 = 1/1$; thus,\n\\[\nE_2 = \\left\\{0, \\frac{1}{2}, 1\\right\\}, \\quad E_3 = \\left\\{0, \\frac{1}{3}, \\frac{1}{2}, \\frac{2}{3}, 1\\right\\}, \\dots\n\\]\n\nWith the help of the sequence $E_n$, we define the piecewise linear continuous function \n$\\varphi_n(x)$ on the interval $[0, 1]$ such that\n\\[\n\\varphi_n\\left(\\frac{a}{b}\\right) = \\varphi_n\\left(\\frac{c}{d}\\right) = 0, \\quad \\varphi_n\\left(\\frac{a+c}{b+d}\\right) = \\frac{1}{b+d},\n\\]\nand $\\varphi_n(x)$ is linear on the intervals\n\\[\n\\left[\\frac{a}{b}, \\frac{a+c}{b+d}\\right] \\quad \\text{and} \\quad \\left[\\frac{a+c}{b+d}, \\frac{c}{d}\\right],\n\\]\nrespectively, for every two successive terms $a/b$ and $c/d$ in $E_n$.\n\nShow then that the series\n\\[\nf(x) = \\sum_{n=1}^\\infty \\varphi_n(x)\n\\]\nconverges at every point $x \\in [0, 1]$; more precisely, it converges to $1 - 1/q$ at any rational \npoint $x = p/q \\in [0, 1]$ with $(p, q) = 1$ and to $1$ at any irrational point $x$ in $(0, 1)$.",
    "problem_type": "Continuous Functions",
    "solution": "Let $p/q$ be any fraction in the interval $[0, 1]$. The fraction $p/q$ is contained in $E_q$; otherwise, there exist two adjacent fractions $a/b$ and $c/d$ in $E_q$ satisfying\n\\[\n\\frac{a}{b} < \\frac{p}{q} < \\frac{c}{d},\n\\]\nwhich implies\n\\[\n\\frac{1}{bd} = \\frac{c}{d} - \\frac{a}{b} = \\frac{c}{d} - \\frac{p}{q} + \\frac{p}{q} - \\frac{a}{b} \\geq \\frac{1}{dq} + \\frac{1}{bq} \\geq \\frac{b+d}{bdq} > \\frac{1}{bd},\n\\]\na contradiction. We used here the facts that $bc - ad = 1$ and $b + d \\geq n + 1$ for any two consecutive fractions $a/b$ and $c/d$ in $E_n$, which can be easily verified by induction on $n$.\n\nWe next show that \n\\[\nf\\left(\\frac{a}{b}\\right) = 1 - \\frac{1}{b} \\tag{3.1}\n\\]\nfor any fraction $a/b$ belonging to $E_n$ by induction on $n$. Clearly, it holds for $a/b = 0/1$ and $1/1$ since $\\phi_m(0) = \\phi_m(1) = 0$ for all positive integer $m$. Suppose (3.1) holds for any $a/b \\in E_n$. By definition, we have\n\\[\nf\\left(\\frac{a}{b}\\right) = \\phi_1\\left(\\frac{a}{b}\\right) + \\cdots + \\phi_{b-1}\\left(\\frac{a}{b}\\right) = 1 - \\frac{1}{b},\n\\]\nsince $a/b \\in E_k$ for all $k \\geq b$. Let $a/b$ and $c/d$ be any successive fractions in $E_n$ and consider the fraction $(a+c)/(b+d) \\in E_{n+1}$. Since\n\\[\n\\Phi(x) = \\phi_1(x) + \\cdots + \\phi_{n-1}(x)\n\\]\nis a linear function on the interval $[a/b, c/d]$, we get\n\\[\n\\Phi\\left(\\frac{a+c}{b+d}\\right) = 1 - \\frac{1}{b} + \\frac{1/b - 1/d}{c/d - a/b} \\left(\\frac{a+c}{b+d} - \\frac{a}{b}\\right) = 1 - \\frac{2}{b+d}.\n\\]\nHence\n\\[\nf\\left(\\frac{a+c}{b+d}\\right) = \\Phi\\left(\\frac{a+c}{b+d}\\right) + \\phi_n\\left(\\frac{a+c}{b+d}\\right) = 1 - \\frac{1}{b+d},\n\\]\nby definition. Therefore, (3.1) holds for any rational point in the interval $[0, 1]$.\n\nLet $m$ be any positive integer. Since the piecewise linear function $\\Phi_m(x)$ takes the value less than 1 at any point belonging to $E_{m+1}$, as is already seen above, it follows clearly that $\\Phi_m(x) < 1$ for all $x \\in [0, 1]$. Thus the series\n\\[\n\\sum_{n=1}^\\infty \\phi_n(x)\n\\]\nconverges at every irrational point $x$. Let $a/b$ and $c/d$ be any adjacent fractions in $E_{m+1}$ satisfying $a/b < x < c/d$. We then have\n\\[\n\\Phi_m(x) \\geq \\min\\left\\{\\Phi_m\\left(\\frac{a}{b}\\right), \\Phi_m\\left(\\frac{c}{d}\\right)\\right\\}\n= \\min\\left\\{1 - \\frac{1}{b}, 1 - \\frac{1}{d}\\right\\}.\n\\]\nSince $x$ is irrational, both $b$ and $d$ must diverge to $\\infty$ as $m \\to \\infty$; so, $f(x) = 1$, as required."
}